<!DOCTYPE html>
<html lang="en-GB">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Stopping Distance Simulator</title>
    <meta
      name="description"
      content="Interactive simulation to investigate the factors affecting stopping distance. Minimalist physics simulations designed to reduce cognitive load. Free interactive labs for forces, electricity, waves, radioactivity with worksheets & quizzes."
    />
    <meta name="keywords" content="stopping distance simulation, braking distance, thinking distance, reaction time, GCSE physics forces, road safety, vehicle speed, friction and braking, deceleration, kinetic energy, physics practical, virtual lab, interactive physics, free physics simulation, forces and motion GCSE, highway code"/>

    <!-- Open Graph Tags -->
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://simpliphys.com/GCSE/simulations/forces/stopping-distance.html"
    />
    <meta
      property="og:title"
      content="Stopping Distance Simulator - Interactive Physics Simulation"
    />
    <meta
      property="og:description"
      content="Interactive simulation to investigate the factors affecting stopping distance."
    />
    <meta property="og:image" content="https://simpliphys.com/images/stopping-preview.png" />
    <meta property="og:site_name" content="SimpliPhys" />

    <!-- Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@SimpliPhys" />
    <meta name="twitter:creator" content="@SimpliPhys" />
    <meta
      name="twitter:title"
      content="Stopping Distance Simulator - Interactive Physics Simulation"
    />
    <meta
      name="twitter:description"
      content="Interactive simulation to investigate the factors affecting stopping distance."
    />
    <meta name="twitter:image" content="https://simpliphys.com/images/stopping-preview.png" />
    <meta name="twitter:domain" content="simpliphys.com" />

    <link rel="stylesheet" href="stopping-distance.css" />
    <link rel="icon" type="image/svg+xml" href="/assets/atomlogo.svg" />
    <link rel="icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon-180.png" />
  </head>

  <body>
    <div class="container">
      <header class="page-header">
        <div class="header-grid">
          <div class="header-left">
            <button
              id="download-worksheet-btn"
              class="btn navy-btn"
              aria-label="Download worksheet PDF"
            >
              Worksheet
            </button>
          </div>
          <h1 class="page-title">Stopping Distance</h1>
          <div class="header-actions">
            <button id="quiz-btn" class="btn gold-btn">Quiz yourself!</button>
          </div>
        </div>
      </header>
      <script>
        document.getElementById('download-worksheet-btn').addEventListener('click', () => {
          const url = '/assets/stopping-distance-worksheet.pdf'
          const w = window.open(url, '_blank')
          if (w) {
            try {
              w.opener = null
            } catch (e) {}
          } else {
            // popup blocked — fallback to navigate in same tab
            window.location.href = url
          }
        })
        document.getElementById('quiz-btn').addEventListener('click', () => {
          const url = '/GCSE/quizzes/forces/stopping-distance-quiz.html'
          const w = window.open(url, '_blank')
          if (w) {
            try {
              w.opener = null
            } catch (e) {}
          } else {
            // popup blocked — fallback to navigate in same tab
            window.location.href = url
          }
        })
      </script>
      <main class="main">
        <!-- Reaction Test Card -->
        <section class="card">
          <div class="card-inner">
            <h2 class="card-title">Test Your Reaction Time</h2>
            <p class="muted">
              Click the button to start. When the box turns green, click it as fast as you can.
              We'll measure your reaction time three times and calculate the average.
            </p>

            <div class="reaction-area-wrap">
              <div id="reactionTestArea" class="reaction-test-area">
                <span id="reactionTestText">Click to start</span>
              </div>

              <div class="controls-row">
                <button id="startReactionTest" class="btn teal-btn">Start Reaction Test</button>

                <div class="info">
                  <div><strong>Test progress:</strong> <span id="testProgress">0/3</span></div>
                </div>

                <div class="info">
                  <div>
                    <strong>Your average reaction time:</strong>
                    <span id="measuredReactionTime">Not measured yet</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Car Simulation Card -->
        <section class="card">
          <div class="card-inner">
            <h2 class="card-title">Stopping Distance</h2>

            <div class="road-wrap">
              <div id="roadContainer" class="road">
                <div id="roadMarkings" class="road-markings"></div>

                <div id="thinkingDistanceVis" class="thinking-distance"></div>
                <div id="brakingDistanceVis" class="braking-distance"></div>

                <div id="car" class="car" style="left: 20%">
                  <!-- simple SVG car -->
                  <svg
                    width="80"
                    height="40"
                    viewBox="0 0 80 40"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <rect x="15" y="16" width="50" height="16" rx="3" fill="#3b82f6" />
                    <rect x="20" y="6" width="35" height="14" rx="4" fill="#3b82f6" />
                    <circle cx="25" cy="32" r="7" fill="#2c3e50" />
                    <circle cx="55" cy="32" r="7" fill="#2c3e50" />
                    <g id="brakeLights" class="brake-lights">
                      <rect x="12" y="20" width="3" height="8" rx="1" fill="#ef4444" />
                    </g>
                  </svg>
                </div>

                <div id="hazard" class="hazard" style="right: 10%; opacity: 0">
                  <svg
                    width="50"
                    height="50"
                    viewBox="0 0 50 50"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <polygon
                      points="25,5 45,45 5,45"
                      fill="#ef4444"
                      stroke="#b91c1c"
                      stroke-width="2"
                    />
                    <text
                      x="25"
                      y="35"
                      text-anchor="middle"
                      fill="white"
                      font-weight="bold"
                      font-size="20"
                    >
                      !
                    </text>
                  </svg>
                </div>

                <div id="thinkingMarker" class="distance-marker thinking-marker">
                  <div class="distance-label">Thinking point</div>
                </div>

                <div id="stoppingMarker" class="distance-marker stopping-marker">
                  <div class="distance-label">Stopping point</div>
                </div>

                <div id="hazardMarker" class="distance-marker hazard-marker">
                  <div class="distance-label">Hazard</div>
                </div>
              </div>

              <div class="legend-row">
                <div class="legend-item">
                  <span class="swatch thinking-swatch"></span> Thinking Distance
                </div>
                <div class="legend-item">
                  <span class="swatch braking-swatch"></span> Braking Distance
                </div>
                <div class="legend-item"><span class="swatch hazard-swatch"></span> Hazard</div>
              </div>

              <div class="distance-scale">
                <div class="scale-bar">
                  <div class="scale-seg"></div>
                  <div class="scale-seg"></div>
                  <div class="scale-seg"></div>
                  <div class="scale-seg"></div>
                  <div class="scale-seg"></div>
                </div>
                <div class="scale-labels">
                  <span>0</span><span>25</span><span>50</span><span>75</span><span>100</span>
                </div>
              </div>

              <div class="run-sim" style="display: flex; gap: 8px; margin-top: 8px">
                <button id="simulateBtn" class="btn navy-btn">Run Simulation</button>
                <button id="resetBtn" class="btn coral-btn">Reset</button>
              </div>

              <div id="simulationStatus" class="simulation-status" aria-live="polite" hidden></div>
            </div>
          </div>
        </section>

        <!-- Controls & Results Card -->
        <section class="card">
          <div class="card-inner">
            <h2 class="card-title">Stopping Distance Controls</h2>
            <p class="muted">
              Explore how different factors affect a vehicle's stopping distance. Adjust the sliders
              below to see the impact on both thinking distance and braking distance.
            </p>

            <div class="controls-grid">
              <div class="controls-column">
                <label class="label">Speed (km/h)</label>
                <input id="speedSlider" class="slider" type="range" min="30" max="110" value="50" />
                <div class="range-legend"><span>30</span><span>70</span><span>110</span></div>
                <div class="center-text" id="speedValue">50 km/h</div>

                <label class="label" style="margin-top: 1rem">Reaction Time (seconds)</label>
                <div class="reaction-row">
                  <input
                    id="reactionSlider"
                    class="slider"
                    type="range"
                    min="0.2"
                    max="2.0"
                    step="0.01"
                    value="0.7"
                  />
                  <button id="useMyReaction" class="btn gold-btn" disabled>Use My Time</button>
                </div>
                <div class="range-legend"><span>0.2</span><span>1.1</span><span>2.0</span></div>
                <div class="center-text" id="reactionValue">0.7 seconds</div>

                <label class="label" style="margin-top: 1rem">Road Condition</label>
                <select id="roadCondition" class="select">
                  <option value="dry">Dry (Good Friction)</option>
                  <option value="wet">Wet (Reduced Friction)</option>
                  <option value="snow">Snow/Ice (Poor Friction)</option>
                </select>
              </div>

              <div class="results-column">
                <div class="results-box">
                  <h3 class="results-title">Results</h3>
                  <div class="result-row">
                    <span>Thinking Distance:</span><span id="thinkingDistance">0 metres</span>
                  </div>
                  <div class="result-row">
                    <span>Braking Distance:</span><span id="brakingDistance">0 metres</span>
                  </div>
                  <div class="result-row border-top">
                    <span>Total Stopping Distance:</span
                    ><strong id="totalDistance">0 metres</strong>
                  </div>
                </div>

                <div class="facts-box">
                  <h4>Stopping Distance Facts</h4>
                  <ul>
                    <li>Stopping distance = Thinking distance + Braking distance</li>
                    <li>
                      Thinking distance is how far you travel before you start braking (speed ×
                      reaction time)
                    </li>
                    <li>
                      Braking distance increases with the square of speed (doubling speed quadruples
                      braking distance)
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </section>
      </main>
    </div>

    <script src="stopping-distance.js"></script>
  </body>
</html>
